{"version":3,"file":"static/js/967.9c5da991.chunk.js","mappings":"yRAUO,SAASA,IACd,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAmBA,EAAMF,UAAzB,IAA3BA,WAHuB,8CAK/B,8FACQG,EAAWC,eAAeC,QAAQ,aAD1C,iCAGUC,EAAAA,EAAAA,GAAcH,GACjBI,MAAK,SAACC,GAAD,OAAcZ,GAASa,EAAAA,EAAAA,IAAcD,EAASE,MAA9C,IACLC,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZd,EAAS,QACV,IARP,6BAUIA,EAAS,SAVb,4CAL+B,sBAuB/B,OAJAiB,EAAAA,EAAAA,YAAU,YAnBqB,mCAoB7BC,EACD,GAAE,KAGD,gBAAKC,UAAU,kBAAf,UACE,iBAAKA,UAAU,uCAAf,WACE,eAAIA,UAAU,mCAAd,0IAGA,gBAAKA,UAAU,mCAAf,SACGjB,EAAWkB,KAAI,SAACC,GACf,OACE,+BACE,SAAC,KAAD,CACEF,UAAU,wBAEVG,GAAE,qBAAgBD,EAAKE,IAHzB,SAKGF,EAAKG,MAHDH,EAAKE,KAOjB,OAEH,iBAAMJ,UAAU,+BAAhB,mYAMP,C,yFCrCM,SAAeX,EAAtB,+CAAO,OAAP,0BAAO,WACLH,GADK,4FAGkBoB,EAAAA,EAAAA,IAAA,6BAA+BpB,EAA/B,gBAHlB,cAGCK,EAHD,yBAKEA,GALF,kE,qCCnBMe,E,MAAOC,GAAAA,OAAa,CAC/BC,QAHe,iCAMjBF,EAAKG,aAAaC,QAAQC,KAAI,SAACC,GAI7B,OAHAA,EAAOC,QAAQC,cAAf,iBAAyC3B,eAAeC,QACtD,gBAEKwB,CACR,IAED,K","sources":["components/pages/ExtensionsPage/ExtensionsPage.tsx","services/extensions/index.ts","services/index.ts"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setExtensions } from \"../../../store/extensionsSlice/extensionsSlice\";\r\nimport { getExtensions } from \"../../../services/extensions\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IState } from \"../../../store/store\";\r\nimport { IExtension } from \"../../../services/extensions/index\";\r\nimport \"./ExtensionsPage.scss\";\r\n\r\nexport function ExtensionsPage() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { extensions } = useSelector((state: IState) => state.extensions);\r\n\r\n  async function getExtensionsToStore() {\r\n    const clientId = sessionStorage.getItem(\"clientId\");\r\n    if (clientId) {\r\n      await getExtensions(clientId)\r\n        .then((response) => dispatch(setExtensions(response.data)))\r\n        .catch((e) => {\r\n          console.log(e);\r\n          navigate(\"/auth\");\r\n        });\r\n    } else {\r\n      navigate(\"/auth\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getExtensionsToStore();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"extensions-page\">\r\n      <div className=\"container extensions-page__container\">\r\n        <h1 className=\"heading extensions-page__heading\">\r\n          Ваши добавочные номера:\r\n        </h1>\r\n        <div className=\"extensions-page__links-container\">\r\n          {extensions.map((item: IExtension) => {\r\n            return (\r\n              <>\r\n                <Link\r\n                  className=\"extensions-page__link\"\r\n                  key={item.id}\r\n                  to={`/extension/${item.id}`}\r\n                >\r\n                  {item.name}\r\n                </Link>\r\n              </>\r\n            );\r\n          })}\r\n        </div>\r\n        <span className=\"extensions-page__description\">\r\n          Вы можете кликнуть по номеру, чтобы увидеть дополнительную информацию\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import $api from \"..\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport interface IExtension {\r\n  id: number;\r\n  name: string;\r\n  domain: string;\r\n  type: string;\r\n  status: string | null;\r\n  label: string | null;\r\n  client_id: number;\r\n  extension_group_id: number | null;\r\n  extra_params: string | null;\r\n  dial_rule_limit: number | null;\r\n  caller_id_name: string | null;\r\n  create_date: string;\r\n  did_as_transfer_caller_id: string | null;\r\n  dial_rule_id: number | null;\r\n  ani_rfc3325: boolean;\r\n  message_did: string | null;\r\n  ani: string | null;\r\n}\r\n\r\nexport async function getExtensions(\r\n  clientId: string\r\n): Promise<AxiosResponse<IExtension[]>> {\r\n  const response = await $api.get(`/api/ver1.0/client/${clientId}/extension/`);\r\n\r\n  return response;\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://apiproxy.telphin.ru/\";\r\n\r\nexport const $api = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\n$api.interceptors.request.use((config: any) => {\r\n  config.headers.Authorization = `Bearer ${sessionStorage.getItem(\r\n    \"accessToken\"\r\n  )}`;\r\n  return config;\r\n});\r\n\r\nexport default $api;\r\n"],"names":["ExtensionsPage","dispatch","useDispatch","navigate","useNavigate","extensions","useSelector","state","clientId","sessionStorage","getItem","getExtensions","then","response","setExtensions","data","catch","e","console","log","useEffect","getExtensionsToStore","className","map","item","to","id","name","$api","axios","baseURL","interceptors","request","use","config","headers","Authorization"],"sourceRoot":""}